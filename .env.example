# ==========================================
# Учетные Данные Bybit API
# ==========================================
# Получите API ключи на: https://www.bybit.com/app/user/api-management
# ВАЖНО: Включите "Unified Trading Account (UTA)" и разрешения для Perpetuals
BYBIT_API_KEY=ваш_api_ключ_здесь
BYBIT_API_SECRET=ваш_api_secret_здесь

# ==========================================
# Выбор Торговой Среды
# ==========================================
# Выберите ОДНУ из следующих опций:

# Опция 1: Mainnet (ПРОДАКШН - РЕАЛЬНЫЕ ДЕНЬГИ)
# По умолчанию если не указаны custom URLs
# BYBIT_TESTNET=false

# Опция 2: Demo Trading (РЕКОМЕНДУЕТСЯ ДЛЯ ТЕСТИРОВАНИЯ)
# Использует режим "Demo Trading" в основном аккаунте Bybit
# ВАЖНО: Все еще делит маржу со Spot/Futures на UTA
# См. RISK_ISOLATION.md для правил безопасности
BYBIT_REST_URL=https://api-demo.bybit.com
BYBIT_WS_URL=wss://stream-demo.bybit.com/v5/public/linear

# Опция 3: Testnet (Отдельная Тестовая Среда)
# Требует отдельную регистрацию на testnet.bybit.com
# BYBIT_TESTNET=true
# (Testnet URLs будут использованы автоматически)

# ==========================================
# Параметры Торговли
# ==========================================
# Максимальный размер позиции в USD
# Фактический размер будет меньше из-за фиксированного риска $0.30
MAX_POSITION_SIZE_USD=1000.0

# Статический Stop Loss (%)
# Используется только если динамический SL не активен
# Динамический SL: 0.7-3.0% в зависимости от волатильности рынка
STOP_LOSS_PERCENT=0.5

# Статический Take Profit (%)
# Используется только если динамический TP не активен
# Динамический TP: SL × 1.5
TAKE_PROFIT_PERCENT=1.0

# ==========================================
# Настройки Стратегии
# ==========================================

# Порог импульса (momentum) для генерации сигналов входа (%)
# Измеряет отклонение цены от 50-tick VWAP
# Ниже = более чувствительный, больше сделок (напр., 0.1 = вход при движении 0.1%)
# Выше = менее чувствительный, меньше но более сильные сигналы (напр., 0.2 = вход при 0.2%)
# Рекомендуется: 0.1-0.2 для скальпинга, 0.15 - сбалансированный вариант
MOMENTUM_THRESHOLD=0.15

# Минимальная требуемая сила тренда для входа (%)
# Предотвращает торговлю на боковом/колеблющемся рынке с винрейтом ~50%
# Измеряет разницу между 50-tick и 200-tick VWAP
# Ниже = разрешает торговлю на более слабых трендах (напр., 0.05 = очень разрешительно)
# Выше = требует более сильных трендов (напр., 0.2 = только сильные тренды)
# Рекомендуется: 0.1% для сбалансированной фильтрации
MIN_TREND_STRENGTH=0.1

# Фиксированный риск на сделку (USD)
# Бот рассчитывает размер позиции так, чтобы при срабатывании стоп-лосса
# убыток был равен этой сумме (независимо от волатильности)
# Формула: Position = RISK_AMOUNT_USD / (SL% / 100)
# Пример: Риск $0.30, SL 1% → Позиция $30, SL 3% → Позиция $10
# Рекомендуется: 0.30 для консервативного, 1.00 для агрессивного
RISK_AMOUNT_USD=0.30

# ==========================================
# Настройки Сканера
# ==========================================

# Интервал сканирования рынка (секунды)
# Бот ищет самую волатильную монету каждые N секунд
# 60 = проверка раз в минуту (баланс между свежестью данных и нагрузкой на API)
SCAN_INTERVAL_SECS=60

# Минимальный оборот за 24ч для фильтрации монет (USD)
# Монеты с меньшим объемом исключаются (недостаточная ликвидность)
# 10000000 = $10M минимальный оборот
MIN_TURNOVER_24H_USD=10000000.0

# Множитель порога score для переключения монет
# Бот переключится на новую монету только если new_score > current_score × этот множитель
# 1.2 = новая монета должна быть на 20% лучше для переключения
# Выше = меньше переключений (более стабильная торговля)
# Ниже = больше переключений (более агрессивная охота за волатильностью)
SCORE_THRESHOLD_MULTIPLIER=1.2

# ✅ MEAN REVERSION: Фиксированный торговый символ
# Если указан - бот торгует ТОЛЬКО этот символ (не сканирует рынок)
# Рекомендуется: BTCUSDT или ETHUSDT для mean reversion стратегии
# Оставьте пустым для автоматического сканирования рынка
# Примеры: TRADING_SYMBOL=BTCUSDT или TRADING_SYMBOL=ETHUSDT
TRADING_SYMBOL=

# ==========================================
# Риск-Менеджмент
# ==========================================

# Максимальный разрешенный спред (basis points)
# 20.0 = 0.20% макс. спред между bid и ask
# Более широкие спреды блокируют вход (плохая ликвидность)
# Примечание: 1 basis point = 0.01%
MAX_SPREAD_BPS=20.0

# Порог устаревших данных (миллисекунды)
# Данные старше этого порога отбрасываются
# 500 = игнорировать тики старше 500мс
# Предотвращает торговлю на устаревших ценах
STALE_DATA_THRESHOLD_MS=500

# ✅ ЗАЩИТА ОТ ПАМП-МОНЕТ: Черный список символов (разделенные запятыми)
# Монеты в этом списке будут полностью игнорироваться сканером
# Пример: BLACKLIST_SYMBOLS=AXSUSDT,WIFUSDT,PEPEUSDT
# Оставьте пустым чтобы разрешить все символы
BLACKLIST_SYMBOLS=

# ==========================================
# Логирование (опционально)
# ==========================================
# Уровень логирования: trace, debug, info, warn, error
# info = рекомендуется для продакшна (показывает важные события)
# debug = подробное логирование для отладки (много вывода)
RUST_LOG=info
