# üéØ Bybit HFT Scalper Bot

–í—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π —Å–∫–∞–ª—å–ø–∏–Ω–≥-–±–æ—Ç –¥–ª—è Bybit Linear Perpetuals —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º –∞–∫—Ç–∏–≤–æ–≤ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–æ–º.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ScannerActor   ‚îÇ ‚îÄ‚îÄ‚îê  –°–∫–∞–Ω–∏—Ä—É–µ—Ç —Ä—ã–Ω–æ–∫ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
‚îÇ  (–•–∏—â–Ω–∏–∫)       ‚îÇ   ‚îÇ  –ò—â–µ—Ç —Å–∞–º—ã–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–µ –º–æ–Ω–µ—Ç—ã
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
                      ‚ñº
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ MarketDataActor  ‚îÇ ‚óÑ‚îÄ‚îÄ WebSocket (–ì–æ—Ä—è—á–∞—è –∑–∞–º–µ–Ω–∞)
                ‚îÇ  (–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö)  ‚îÇ     –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–∏–∫–∏ –∏ —Å—Ç–∞–∫–∞–Ω
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
                      ‚ñº
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ StrategyEngine   ‚îÇ     –ê–Ω–∞–ª–∏–∑ momentum, trend, VWAP
                ‚îÇ  (–¢–æ—Ä–≥–æ–≤–æ–µ —è–¥—Ä–æ) ‚îÇ     –§–∏–ª—å—Ç—Ä—ã –∑–∞—â–∏—Ç—ã
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                      ‚îÇ
                      ‚ñº
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ ExecutionActor   ‚îÇ     –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
                ‚îÇ  (–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å)   ‚îÇ     –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–µ–π
                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –§–∏—á–∏

### 1. **"–•–∏—â–Ω–∏–∫" - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –°–∫–∞–Ω–µ—Ä –†—ã–Ω–∫–∞**
- –°–∫–∞–Ω–∏—Ä—É–µ—Ç –í–°–ï USDT perpetual –ø–∞—Ä—ã –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
- –§–æ—Ä–º—É–ª–∞ —Å–∫–æ—Ä–∏–Ω–≥–∞: `Turnover24h √ó |PriceChange24h|`
- –ê–≤—Ç–æ-–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤—ã–π –ª–∏–¥–µ—Ä –µ—Å–ª–∏ `new_score > current_score √ó 1.2`
- –ò—Å–∫–ª—é—á–∞–µ—Ç —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã (USDC, BUSD, DAI, TUSD) –∏ –Ω–∏–∑–∫–æ–≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–µ –ø–∞—Ä—ã (BTC, ETH)
- **Zombie Protection**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∞–∫—Ç–∏–≤ - —Ñ–æ—Ä—Å–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –µ—Å–ª–∏ "—É–º–µ—Ä"

### 2. **–ì–æ—Ä—è—á–∞—è –ó–∞–º–µ–Ω–∞ WebSocket**
- –ë–µ—Å—à–æ–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ –±–µ–∑ —Ä–∞–∑—Ä—ã–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–ø–æ–¥–ø–∏—Å–∫–∞ –ø–æ—Å–ª–µ —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö (>500ms –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è)
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ API (rate limiting)

### 3. **–ú–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ –ó–∞—â–∏—Ç—ã**

#### üõ°Ô∏è **–§–∏–ª—å—Ç—Ä—ã –í—Ö–æ–¥–∞ (8 —Å–ª–æ–µ–≤)**:
1. **Momentum Threshold** (0.15%): –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∏–ª–∞ –∏–º–ø—É–ª—å—Å–∞
2. **Trend Alignment**: –°–∏–≥–Ω–∞–ª –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç—Ä–µ–Ω–¥–æ–º (50-tick vs 200-tick VWAP)
3. **Trend Strength** (0.1%): –ó–∞—â–∏—Ç–∞ –æ—Ç –±–æ–∫–æ–≤–æ–≥–æ —Ä—ã–Ω–∫–∞ (50% –≤–∏–Ω—Ä–µ–π—Ç killer)
4. **Anti-FOMO** (¬±0.5% –æ—Ç VWAP): –ù–µ –ø–æ–∫—É–ø–∞–µ—Ç –Ω–∞ —Ö–∞—è—Ö, –Ω–µ –ø—Ä–æ–¥–∞–µ—Ç –Ω–∞ –ª–æ—è—Ö
5. **PUMP Protection** (¬±15% 24h): –ë–ª–æ–∫–∏—Ä—É–µ—Ç SHORT –Ω–∞ –ø–∞–º–ø-–∫–æ–∏–Ω–∞—Ö, LONG –Ω–∞ –¥–∞–º–ø-–∫–æ–∏–Ω–∞—Ö
6. **Blacklist**: –†—É—á–Ω–æ–π —Å–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã—Ö –º–æ–Ω–µ—Ç
7. **Spread Check** (<20 bps): –¢–æ–ª—å–∫–æ –ª–∏–∫–≤–∏–¥–Ω—ã–µ —Ä—ã–Ω–∫–∏
8. **Signal Confirmation** (12 —Ç–∏–∫–æ–≤): –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º

#### üî• **–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –í—ã—Ö–æ–¥—ã**:
- **Flash Crash Protection**: –ê–≤–∞—Ä–∏–π–Ω—ã–π –≤—ã—Ö–æ–¥ –ø—Ä–∏ -5% –∑–∞ <1 —Å–µ–∫—É–Ω–¥—É
- **Dynamic Stop Loss**: 0.7-3.0% –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (ATR-based)
- **Dynamic Take Profit**: 1.5√ó –æ—Ç Stop Loss
- **Symbol Switch**: –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –≤—ã—Ö–æ–¥ –ø—Ä–∏ —Å–º–µ–Ω–µ –∞–∫—Ç–∏–≤–∞

### 4. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –†–∏—Å–∫-–ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç**
- **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ–ª–ª–∞—Ä–æ–≤—ã–π —Ä–∏—Å–∫**: $0.30 –Ω–∞ —Ç—Ä–µ–π–¥ (–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ü–µ–Ω—ã –∞–∫—Ç–∏–≤–∞)
- **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å-–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π SL/TP**:
  - –°–ø–æ–∫–æ–π–Ω—ã–π —Ä—ã–Ω–æ–∫: SL = 0.7%, TP = 1.05%
  - –í–æ–ª–∞—Ç–∏–ª—å–Ω—ã–π —Ä—ã–Ω–æ–∫: SL = 3.0%, TP = 4.5%
- **Trade Cooldown**: 30 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É —Ç—Ä–µ–π–¥–∞–º–∏ (–∑–∞—â–∏—Ç–∞ –æ—Ç revenge trading)

### 5. **–£–º–Ω–æ–µ –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ**
- **–õ–∏–∫–≤–∏–¥–Ω—ã–µ —Ä—ã–Ω–∫–∏** (—Å–ø—Ä–µ–¥ <10 bps): IOC Market Orders (–º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ)
- **–®–∏—Ä–æ–∫–∏–µ —Å–ø—Ä–µ–¥—ã** (>10 bps): PostOnly Limit Orders –Ω–∞ –ª—É—á—à–∏—Ö —Ü–µ–Ω–∞—Ö (maker rebates)
- **Order Timeout**: 10 —Å–µ–∫—É–Ω–¥ –∞–≤—Ç–æ-—Ä–∞–∑–º–æ—Ä–æ–∑–∫–∞ –µ—Å–ª–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–≤–∏—Å–ª–æ
- **State Machine**: –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤ –∏ race conditions

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç

### –õ–æ–∫–∞–ª—å–Ω–∞—è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Rust
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
git clone <your-repo>
cd bybit-scalper-bot
cp .env.example .env
nano .env  # –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ Bybit API –∫–ª—é—á–∏

# –ó–∞–ø—É—Å–∫
cargo run --release
```

### Docker Deployment

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
docker compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker logs -f bybit-scalper

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose down
```

### CI/CD Deployment (GitHub Actions)

1. –î–æ–±–∞–≤—å—Ç–µ secrets –≤ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   - `SERVER_HOST` - IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - `SERVER_USER` - SSH username
   - `SERVER_SSH_KEY` - –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á
   - `DEPLOY_PATH` - –ü—É—Ç—å –∫ docker-compose.yml –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

2. Push –≤ –≤–µ—Ç–∫—É `main` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|--------------|
| `BYBIT_API_KEY` | –í–∞—à API –∫–ª—é—á | - |
| `BYBIT_API_SECRET` | –í–∞—à API secret | - |
| `MAX_POSITION_SIZE_USD` | –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏ –≤ USD | `1000.0` |
| `STOP_LOSS_PERCENT` | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π Stop Loss % | `0.5` |
| `TAKE_PROFIT_PERCENT` | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π Take Profit % | `1.0` |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|--------------|
| `MOMENTUM_THRESHOLD` | –ü–æ—Ä–æ–≥ –∏–º–ø—É–ª—å—Å–∞ –¥–ª—è –≤—Ö–æ–¥–∞ (%) | `0.15` |
| `MIN_TREND_STRENGTH` | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞ (%) | `0.1` |

**Momentum Threshold**:
- `0.1` - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π (–±–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫)
- `0.15` - –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ‚úÖ
- `0.2` - –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π (–º–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫)

**Min Trend Strength**:
- `0.05` - –†–∞–∑—Ä–µ—à–∞–µ—Ç —Å–ª–∞–±—ã–µ —Ç—Ä–µ–Ω–¥—ã
- `0.1` - –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π ‚úÖ
- `0.2` - –¢–æ–ª—å–∫–æ —Å–∏–ª—å–Ω—ã–µ —Ç—Ä–µ–Ω–¥—ã

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –°–∫–∞–Ω–µ—Ä–∞

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|--------------|
| `SCAN_INTERVAL_SECS` | –ß–∞—Å—Ç–æ—Ç–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—Å–µ–∫) | `60` |
| `MIN_TURNOVER_24H_USD` | –ú–∏–Ω. –æ–±–æ—Ä–æ—Ç –∑–∞ 24—á (USD) | `10000000` |
| `SCORE_THRESHOLD_MULTIPLIER` | –ü–æ—Ä–æ–≥ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è | `1.2` |

### –†–∏—Å–∫-–ú–µ–Ω–µ–¥–∂–º–µ–Ω—Ç

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|-----------|----------|--------------|
| `MAX_SPREAD_BPS` | –ú–∞–∫—Å. —Å–ø—Ä–µ–¥ (basis points) | `20.0` |
| `STALE_DATA_THRESHOLD_MS` | –ü–æ—Ä–æ–≥ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–º—Å) | `500` |
| `BLACKLIST_SYMBOLS` | –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–æ–Ω–µ—Ç (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) | - |

**–ü—Ä–∏–º–µ—Ä**: `BLACKLIST_SYMBOLS=AXSUSDT,WIFUSDT,PEPEUSDT`

### Demo Trading / Testnet

```bash
# Demo Trading (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫–∫–∞—É–Ω—Ç, –Ω–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏)
BYBIT_REST_URL=https://api-demo.bybit.com
BYBIT_WS_URL=wss://stream-demo.bybit.com/v5/public/linear

# Testnet (–æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞)
BYBIT_TESTNET=true
```

## üìä –î–µ—Ç–∞–ª–∏ –°—Ç—Ä–∞—Ç–µ–≥–∏–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º –†–∞–±–æ—Ç—ã

#### 1Ô∏è‚É£ **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –†—ã–Ω–∫–∞** (–∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥)

```
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ USDT perpetual –ø–∞—Ä—ã
  ‚Üì
–§–∏–ª—å—Ç—Ä—ã:
  - Turnover24h > $10M
  - –ù–ï —Å—Ç–µ–π–±–ª–∫–æ–∏–Ω—ã (USDC, BUSD, DAI, TUSD)
  - –ù–ï –Ω–∏–∑–∫–æ–≤–æ–ª–∞—Ç–∏–ª—å–Ω—ã–µ (BTC, ETH)
  - –ù–ï –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ
  ‚Üì
–°–∫–æ—Ä–∏–Ω–≥: Score = Turnover24h √ó |PriceChange24h|
  ‚Üì
–¢–æ–ø –º–æ–Ω–µ—Ç–∞: max(Score)
  ‚Üì
–ï—Å–ª–∏ new_score > current_score √ó 1.2:
  ‚Üí –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—É—é –º–æ–Ω–µ—Ç—É
```

#### 2Ô∏è‚É£ **–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –î–∞–Ω–Ω—ã—Ö** (–º–∏–Ω–∏–º—É–º 200 —Ç–∏–∫–æ–≤)

```
–ü–æ–ª—É—á–∞—Ç—å —Ç–∏–∫–∏ —Å WebSocket
  ‚Üì
–î–æ–±–∞–≤–ª—è—Ç—å –≤ RingBuffer (300 —Ç–∏–∫–æ–≤)
  ‚Üì
–û–±–Ω–æ–≤–ª—è—Ç—å VWAP cache –∫–∞–∂–¥—ã–π —Ç–∏–∫
  ‚Üì
–î–æ—Å—Ç–∏–≥–ª–∏ 200 —Ç–∏–∫–æ–≤?
  ‚Üí –ë–æ—Ç –∞–∫—Ç–∏–≤–µ–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∞–Ω–∞–ª–∏–∑
```

#### 3Ô∏è‚É£ **–ê–Ω–∞–ª–∏–∑ –†—ã–Ω–∫–∞** (–∫–∞–∂–¥—ã–π —Ç–∏–∫ –ø–æ—Å–ª–µ 200)

```
–í—ã—á–∏—Å–ª–∏—Ç—å Momentum:
  momentum = (last_price - VWAP_50) / VWAP_50
  ‚Üì
Momentum > 0.15%?
  ‚Üì –î–ê
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å 24h Change (PUMP Protection):
  - –ï—Å–ª–∏ +15%+ ‚Üí –±–ª–æ–∫ SHORT
  - –ï—Å–ª–∏ -15%- ‚Üí –±–ª–æ–∫ LONG
  ‚Üì –ü–†–û–®–ï–õ
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Trend Direction:
  - VWAP_50 vs VWAP_200
  - Signal –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å Trend
  ‚Üì –°–û–í–ü–ê–õ
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Trend Strength:
  - |VWAP_50 - VWAP_200| / VWAP_200 > 0.1%?
  - –ë–ª–æ–∫–∏—Ä—É–µ—Ç –±–æ–∫–æ–≤–æ–π —Ä—ã–Ω–æ–∫
  ‚Üì –°–ò–õ–¨–ù–´–ô
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Anti-FOMO:
  - –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç VWAP < ¬±0.5%?
  - –ù–µ –ø–æ–∫—É–ø–∞–µ—Ç –Ω–∞ —Ö–∞—è—Ö, –Ω–µ –ø—Ä–æ–¥–∞–µ—Ç –Ω–∞ –ª–æ—è—Ö
  ‚Üì –ü–†–û–®–ï–õ
–ù–∞–∫–æ–ø–∏—Ç—å 12 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –ø–æ–¥—Ä—è–¥
  ‚Üì
–í–•–û–î –í –ü–û–ó–ò–¶–ò–Æ
```

#### 4Ô∏è‚É£ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ü–æ–∑–∏—Ü–∏–µ–π**

```
–í–•–û–î:
  - –†–∞—Å—Å—á–∏—Ç–∞—Ç—å ATR (100-tick volatility)
  - Dynamic SL: 0.7-3.0% –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç ATR
  - Dynamic TP: SL √ó 1.5
  - Position Size: $0.30 risk / SL%
  ‚Üì
–ú–û–ù–ò–¢–û–†–ò–ù–ì (–∫–∞–∂–¥–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ orderbook):
  - Flash Crash? (PnL < -5% –∑–∞ <1—Å–µ–∫) ‚Üí –í–´–•–û–î
  - Stop Loss? (PnL < -SL%) ‚Üí –í–´–•–û–î
  - Take Profit? (PnL > +TP%) ‚Üí –í–´–•–û–î
  ‚Üì
–í–´–•–û–î:
  - Market Order (IOC) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
  - State Machine –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  - Rate Limit: –º–∞–∫—Å 1 ClosePosition –∑–∞ 2 —Å–µ–∫—É–Ω–¥—ã
```

### –ü—Ä–∏–º–µ—Ä –¢—Ä–µ–π–¥–∞

```
–ú–æ–Ω–µ—Ç–∞: SKRUSDT
24h Change: +282%
Momentum: +1.34%
Trend: BULLISH (VWAP_50 = 46.05, VWAP_200 = 45.90)
Trend Strength: 0.33% ‚úÖ
VWAP Distance: +0.15% ‚úÖ

‚Üí –í–•–û–î LONG @ 46.05
  ATR: 2.1% (–≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
  Dynamic SL: -2.1% ‚Üí 45.08
  Dynamic TP: +3.15% ‚Üí 47.50
  Position Size: 0.7 SKRUSDT ($32.23)

‚Üí –í–´–•–û–î @ 47.50 (TP HIT)
  PnL: +3.15% = +$1.01
  –í—Ä–µ–º—è –≤ –ø–æ–∑–∏—Ü–∏–∏: 47 —Å–µ–∫—É–Ω–¥
```

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ü—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main.rs              # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–æ—Ä–æ–≤
‚îú‚îÄ‚îÄ config.rs            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ env
‚îú‚îÄ‚îÄ actors/
‚îÇ   ‚îú‚îÄ‚îÄ scanner.rs       # "–•–∏—â–Ω–∏–∫" - —Å–∫–∞–Ω–µ—Ä –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ websocket.rs     # –ü–æ—Ç–æ–∫ —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ strategy.rs      # –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ + —Ñ–∏–ª—å—Ç—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ execution.rs     # –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ messages.rs      # –°–æ–æ–±—â–µ–Ω–∏—è –º–µ–∂–¥—É –∞–∫—Ç–æ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ exchange/
‚îÇ   ‚îú‚îÄ‚îÄ bybit_client.rs  # REST API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ specs.rs         # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
‚îî‚îÄ‚îÄ models/
    ‚îî‚îÄ‚îÄ types.rs         # –ë–∞–∑–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
```

## üìà –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **VWAP –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: 99.5% —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π (400-2000/—Å–µ–∫ ‚Üí 1/—Ç–∏–∫)
- **RingBuffer**: O(1) –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–∫–æ–≤, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å
- **Tokio Async**: –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º
- **Zero-Copy**: Rust ownership –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∞–ª–ª–æ–∫–∞—Ü–∏–π
- **Conditional Logging**: –ú–∏–Ω–∏–º—É–º I/O –Ω–∞ –≥–æ—Ä—è—á–µ–º –ø—É—Ç–∏

## üêõ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ë–∞–≥–∏ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

### –ë–∞–≥ #14: Infinite Close Loop (API Ban)
- **–ü—Ä–æ–±–ª–µ–º–∞**: 20+ ClosePosition –∑–∞ 1 —Å–µ–∫—É–Ω–¥—É ‚Üí API ban
- **–§–∏–∫—Å**: State guard + rate limit (–º–∞–∫—Å 1 –∑–∞–ø—Ä–æ—Å/2—Å–µ–∫)

### –ë–∞–≥ #15: Zombie Bot After Reconnect
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ—Å–ª–µ —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç–∞
- **–§–∏–∫—Å**: Scanner –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SwitchSymbol –Ω–∞ –ø–µ—Ä–≤–æ–º —Å–∫–∞–Ω–µ

### –ë–∞–≥ #7: VWAP Cache Freeze
- **–ü—Ä–æ–±–ª–µ–º–∞**: VWAP –∑–∞–º–µ—Ä–∑–∞–µ—Ç –ø–æ—Å–ª–µ 300 —Ç–∏–∫–æ–≤
- **–§–∏–∫—Å**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tick_counter –≤–º–µ—Å—Ç–æ buffer.len()

### –ë–∞–≥ #8: Static SL Instead of Dynamic
- **–ü—Ä–æ–±–ª–µ–º–∞**: TP –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π, SL —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π
- **–§–∏–∫—Å**: –û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç active_dynamic_risk

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

- **–¢–æ–ª—å–∫–æ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö**
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ç–æ—Ä–≥—É–π—Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–∂–µ—Ç–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ –ø–æ—Ç–µ—Ä—è—Ç—å
- –í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ Demo Trading / Testnet –ø–µ—Ä–µ–¥ –∂–∏–≤–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π
- –ü—Ä–æ—à–ª—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç –±—É–¥—É—â—É—é –ø—Ä–∏–±—ã–ª—å
- –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –≤–∞—à–∏ —É–±—ã—Ç–∫–∏

## üìä –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. **Demo Trading** ($38 –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö): –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ 1-2 –¥–Ω—è
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –í–∏–Ω—Ä–µ–π—Ç–∞**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å 65-70%+ –¥–ª—è –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –õ–æ–≥–æ–≤**: –ù–µ—Ç —Å–ø–∞–º–∞, –Ω–µ—Ç –æ—à–∏–±–æ–∫, –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ —Å–¥–µ–ª–æ–∫
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ï—Å–ª–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚Üí —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ $600+

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

---

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –∏ ‚ö° –Ω–∞ Rust –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

**–í–µ—Ä—Å–∏—è**: V5 - Dynamic Risk Management + Trend Strength Filter
